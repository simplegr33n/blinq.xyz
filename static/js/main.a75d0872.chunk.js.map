{"version":3,"sources":["assets/TESTdarkside.jpeg","config/firebaseConfig.js","components/auth/SignIn.js","components/auth/SignUp.js","components/auth/ChangePassword.js","components/list-items/SongListItem.js","components/main-content/SongWall.js","components/list-items/PublishListItem.js","components/main-content/Studio.js","components/main-content/RecordSong.js","components/main-content/PostSong.js","components/main-content/EditProfile.js","components/list-items/ProfileSongItem.js","components/main-content/Profile.js","components/main-content/SongDetails.js","components/music-player/TopBarPlayer.js","App.js","js/serviceWorker.js","index.js","assets/TESTprofile-image.png","assets/corner-logo-blinq.png"],"names":["module","exports","__webpack_require__","p","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","Object","classCallCheck","this","firebase","apps","length","initializeApp","db","database","auth","storage","SignIn","props","_this","possibleConstructorReturn","getPrototypeOf","call","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleLogin","hideSigninFields","state","console","log","concat","validateEmail","signInWithEmailAndPassword","then","signIn","catch","error","errorCode","code","errorMessage","message","alert","showSigninFields","keyPress","e","keyCode","SHOWFIELDS","testEmail","test","String","toLowerCase","testPswd","react_default","a","createElement","id","htmlFor","onChange","type","onKeyDown","onClick","Component","SignUp","hideSignupFields","showSignupFields","handleSubmit","validatePassword","createUserWithEmailAndPassword","handleGotoSignIn","gotoSignIn","onAuthStateChanged","user","postUserToFirebase","uid","email","timestamp","Date","getTime","userData","createdAt","updatedAt","updates","ref","update","ChangePassword","handleResetPassword","sendPasswordResetEmail","SongListItem","handlePlay","setSong","song","handleUploaderClick","setProfile","uploader","handleSongNameClick","setSongDetails","className","src","TESTSongArt","alt","songLength","songName","artist","Intl","DateTimeFormat","year","month","day","format","recorded","info","SongWall","getSongs","child","on","snapshot","previousSongs","songs","push","url","val","uploaderName","uploaded","published","handleSetSong","setValue","gotoProfile","gotoSongDetails","lastProps","_this2","reverse","map","list_items_SongListItem","key","PublishListItem","playSong","handlePublishPressed","pubSong","undefined","pub","remove","unpub","Studio","handleUpload","goto","handleRecord","handlePlaySong","UID","list_items_PublishListItem","RecordSong","PostSong","handleSongNameChange","handleArtistNameChange","artistName","handleSongInfoChange","songInfo","showForm","postToFirebase","songname","songData","newPostKey","storageRef","file","document","querySelector","files","metadata","contentType","put","getDownloadURL","accept","EditProfile","gotoPublicProfile","handleChangePassword","TESTprofileImage","ProfileSongItem","Profile","name","list_items_ProfileSongItem","songId","TESTimage","TopBarPlayer","handlePlayOrPause","audioPlayer","ended","paused","play","pause","handleSeekBarClick","seekRatio","pageX","offsetLeft","seekBar","current","offsetWidth","currentTime","duration","handleVolumeBarClick","volumeRatio","pageY","offsetTop","volumeBar","offsetHeight","volume","musicPosition","volumePosition","songDuration","currentPosition","Audio","loop","addEventListener","position","formatMinutesSeconds","Math","floor","onloadedmetadata","React","createRef","s","style","width","height","App","getUsername","errorObject","handleSignOut","signOut","handleSignIn","mainContent","currentSong","setMainContent","handleSearch","openSongWall","openPostSong","openStudio","openRecord","openEditProfile","viewProfile","viewSong","once","music_player_TopBarPlayer","cornerLogo","auth_SignIn","main_content_SongWall","main_content_Studio","main_content_PostSong","main_content_RecordSong","main_content_EditProfile","auth_ChangePassword","main_content_Profile","SongDetails","auth_SignUp","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a75d0872.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/TESTdarkside.2bd292a8.jpeg\";","import firebase from 'firebase/app'\r\nimport 'firebase/database'\r\nimport 'firebase/auth' \r\nimport 'firebase/storage'\r\n\r\n\r\n// Initialize Firebase\r\nvar config = {\r\n    apiKey: \"AIzaSyBLea3SENzTDx8fHj3oo3vktAF-7B3jyXQ\",\r\n    authDomain: \"blinq-43545.firebaseapp.com\",\r\n    databaseURL: \"https://blinq-43545.firebaseio.com\",\r\n    projectId: \"blinq-43545\",\r\n    storageBucket: \"blinq-43545.appspot.com\",\r\n    messagingSenderId: \"234958171789\"\r\n};\r\n\r\nclass Firebase {\r\n    constructor() {\r\n        if (!firebase.apps.length) {\r\n            firebase.initializeApp(config);\r\n        }\r\n\r\n        this.db = firebase.database();\r\n        this.auth = firebase.auth();\r\n        this.storage = firebase.storage();\r\n    }\r\n}\r\n\r\nexport default Firebase;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignIn extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: true\r\n        };\r\n\r\n        this.firebase = new Firebase();\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    handleLogin = () => {\r\n        this.hideSigninFields();\r\n\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        // THE BELOW VALIDATION MAY CLASH WITH RULES OF FIREBASE PASSWORD UPDATE, SO COMMENTING OUT TIL FURTHER THOUGHT THROUGH\r\n        // if (!this.validatePassword(password)) {\r\n        //     alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n        //     return;\r\n        // }\r\n\r\n\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n\r\n        this.firebase.auth.signInWithEmailAndPassword(username, password)\r\n            .then(() => {\r\n                this.props.signIn(\"songwall\");\r\n                return;\r\n            })\r\n            .catch((error) => {\r\n                // Handle Errors here.\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n\r\n                alert(`${errorCode}: ${errorMessage}`);\r\n                this.showSigninFields();\r\n            });\r\n\r\n    }\r\n\r\n    keyPress = (e) => {\r\n        // handle Enter pressed\r\n        if (e.keyCode === 13) {\r\n            this.handleLogin();\r\n        }\r\n    }\r\n\r\n    hideSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <form id=\"signin-form\">\r\n                    <label htmlFor=\"signin-username\">E-mail</label>\r\n                    <input id=\"signin-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" id=\"signin-password\" onKeyDown={this.keyPress} value={this.state.password} onChange={this.handlePasswordChange} />\r\n                    <div>\r\n                        <button id=\"submit-signin-btn\" onClick={this.handleLogin} > Sign in! </button>\r\n                    </div>\r\n                </form>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default SignIn;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: false\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n        this.firebase.auth.onAuthStateChanged((user) => {\r\n            if (user) {\r\n                this.postUserToFirebase(user.uid, user.email);\r\n            } else {\r\n                this.showSignupFields();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    postUserToFirebase(uid, username) {\r\n        let date = new Date()\r\n        let timestamp = date.getTime()\r\n\r\n        // A user entry.\r\n        var userData = {\r\n            uid: uid,\r\n            username: username,\r\n            email: username,\r\n            createdAt: timestamp,\r\n            updatedAt: timestamp,\r\n        };\r\n\r\n        // Write the new post's data simultaneously in the posts list and the user's post list.\r\n        var updates = {};\r\n        updates['/users/' + uid] = userData;\r\n\r\n        return this.firebase.db.ref().update(updates);\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    hideSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            this.setState({\r\n                username: ''\r\n            });\r\n            return;\r\n        }\r\n        if (!this.validatePassword(password)) {\r\n            alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n            this.setState({\r\n                password: ''\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.firebase.auth.createUserWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            return;\r\n            // ...\r\n        });\r\n        \r\n        return;\r\n    }\r\n\r\n    handleGotoSignIn = () => {\r\n        this.props.gotoSignIn(\"signin\");\r\n        console.log(\"Goto signin pressed\");\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <div id=\"signup-div\">\r\n                    <h3>Sign Up</h3>\r\n                    <div>\r\n                        Email:\r\n                        <input id=\"signup-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Password:\r\n                        <input type=\"password\" id=\"signup-password\" value={this.state.password} onChange={this.handlePasswordChange} />\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"submit-signup-btn\" onClick={this.handleSubmit} > Sign up! </button>\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"goto-signin-btn\" onClick={this.handleGotoSignIn} > Sign in! </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass ChangePassword extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: this.props.email\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n    }\r\n\r\n\r\n    handleResetPassword = () => {\r\n        this.firebase.auth.sendPasswordResetEmail(this.state.email)\r\n        alert(\"Password reset email sent!\")\r\n        return;\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h3>Reset Password?</h3>\r\n                <div>\r\n                    <button onClick={this.handleResetPassword} > Confirm Reset Password </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ChangePassword;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\n\r\nimport TESTSongArt from '../../assets/TESTdarkside.jpeg'\r\n\r\nclass SongListItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    handlePlay = () => {\r\n        // pass song to SongWall, which will pass on to App\r\n        this.props.setSong(this.props.song);\r\n    }\r\n\r\n    handleUploaderClick = () => {\r\n        this.props.setProfile(this.props.song.uploader);\r\n    }\r\n\r\n    handleSongNameClick = () => {\r\n        this.props.setSongDetails(this.props.song.id);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"SongListItem\">\r\n                <div>\r\n                    <button className=\"Song-Item-Play-Btn\" onClick={this.handlePlay}>\r\n                        <img src={TESTSongArt} className=\"songArt\" alt=\"Song Art\" />\r\n                        {this.props.song.songLength} &#9654;\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"songListItemRight\">\r\n                    <div className=\"songHeader\">\r\n                        <div>\r\n                            <div className=\"songName\">\r\n                                <button onClick={this.handleSongNameClick}>{this.props.song.songName}</button>\r\n                            </div>\r\n                            <div className=\"artistName\">\r\n                                <i>by</i> {\" \" + this.props.song.artist}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"recordingDate\">\r\n                            {new Intl.DateTimeFormat('en-GB', {\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: '2-digit'\r\n                            }).format(this.props.song.recorded)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"songInfo\">\r\n                        {this.props.song.info}\r\n                    </div>\r\n\r\n                    <button className=\"songList-Uploader-Btn\" onClick={this.handleUploaderClick}>Uploader: {this.props.song.uploader}</button>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SongListItem;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\nimport SongListItem from '../list-items/SongListItem.js'\r\n\r\n\r\nclass SongWall extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsongs: [],\r\n\t\t\tlastProps: null\r\n\t\t};\r\n\r\n\t\tthis.firebase = new Firebase()\r\n\t\tthis.getSongs()\r\n\t}\r\n\r\n\tgetSongs = () => {\r\n\t\t// Songs branch of tree\r\n\t\tvar ref = this.firebase.db.ref().child('songs')\r\n\r\n\t\tref.on('child_added', snapshot => {\r\n\t\t\tconst previousSongs = this.state.songs;\r\n\t\t\tpreviousSongs.push({\r\n\t\t\t\turl: snapshot.val().url,\r\n\t\t\t\tsongName: snapshot.val().songName,\r\n\t\t\t\tartist: snapshot.val().artist,\r\n\t\t\t\trecorded: snapshot.val().recorded,\r\n\t\t\t\tinfo: snapshot.val().info,\r\n\t\t\t\tuploader: snapshot.val().uploader,\r\n\t\t\t\tuploaderName: snapshot.val().uploaderName,\r\n\t\t\t\tuploaded: snapshot.val().uploaded,\r\n\t\t\t\tpublished: snapshot.val().published,\r\n\t\t\t\tid: snapshot.val().id,\r\n\t\t\t\tsongLength: '3:33' // Placeholder\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tsongs: previousSongs\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleSetSong = (setValue) => {\r\n\t\t// set song in App.js\r\n\t\tthis.props.setSong(setValue);\r\n\t}\r\n\r\n\tgotoProfile = (uid) => {\r\n\t\tconsole.log(uid);\r\n\t\tthis.props.gotoProfile(uid);\r\n\t}\r\n\r\n\tgotoSongDetails = (id) => {\r\n\t\tconsole.log(id);\r\n\t\tthis.props.gotoSongDetails(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"Songs-List\">\r\n\t\t\t\t{this.state.songs.reverse().map((song) => (\r\n\t\t\t\t\t<SongListItem\r\n\t\t\t\t\t\tsong={song}\r\n\t\t\t\t\t\tkey={song.id}\r\n\t\t\t\t\t\tsetSong={this.handleSetSong}\r\n\t\t\t\t\t\tsetProfile={this.gotoProfile}\r\n\t\t\t\t\t\tsetSongDetails={this.gotoSongDetails}/>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SongWall;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js';\r\n\r\nimport TESTSongArt from '../../assets/TESTdarkside.jpeg';\r\n\r\nclass PublishListItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            song: this.props.song\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n    }\r\n\r\n    handlePlay = () => {\r\n        // pass song to Studio fragment, which will pass on to App\r\n        this.props.playSong(this.props.song);\r\n    }\r\n\r\n    handlePublishPressed = () => {\r\n        let pubSong = this.props.song;\r\n\r\n        console.log(\"pubstate\" + pubSong.published)\r\n\r\n        if (pubSong.published === undefined || pubSong.published === null) {\r\n            let date = new Date()\r\n            let timestamp = date.getTime()\r\n            pubSong.published = timestamp;\r\n            this.setState({ song: pubSong });\r\n\r\n            console.log(\"Publish: \" + pubSong)\r\n\r\n            // Updates the new song's data simultaneously to the user's song list (/usersongs/UID/*), and the published songs list (/songs/*).\r\n            var pub = {};\r\n            pub['/songs/' + pubSong.id] = pubSong; // Add to main songs list (published)\r\n            pub['/published-songs/' + pubSong.uploader + '/' + pubSong.id] = pubSong; // add to user's published list\r\n            pub['/user-songs/' + pubSong.uploader + '/' + pubSong.id] = pubSong; // add to user's full list\r\n\r\n            return this.firebase.db.ref().update(pub);\r\n        } else {\r\n            pubSong.published = null;\r\n            this.setState({ song: pubSong });\r\n\r\n            console.log(\"Unpublish: \" + pubSong)\r\n\r\n            this.firebase.db.ref().child('songs').child(pubSong.id).remove(); // Remove from main songs list\r\n            this.firebase.db.ref().child('published-songs').child(pubSong.uploader).child(pubSong.id).remove(); // Remove from user's published list\r\n\r\n            var unpub = {};\r\n            unpub['/user-songs/' + pubSong.uploader + '/' + pubSong.id] = pubSong; // update song in user-songs\r\n\r\n            return this.firebase.db.ref().update(unpub);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"PublishSongListItem\">\r\n\r\n                <div>\r\n                    <button className=\"Publish-Song-Play-Btn\" onClick={this.handlePlay}>\r\n                        <img src={TESTSongArt} className=\"PublishSongArt\" alt=\"Song Art\" />\r\n                        {this.props.song.songLength} &#9654;\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"songListItemRight\">\r\n                    <div className=\"songHeader\">\r\n                        <div>\r\n                            <div className=\"PublishSongName\">\r\n                                {this.props.song.songName}\r\n                            </div>\r\n                            <div className=\"PublishSongArtistName\">\r\n                                <i>by</i> {\" \" + this.props.song.artist}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"PublishSongRecordingDate\">\r\n                            {new Intl.DateTimeFormat('en-GB', {\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: '2-digit'\r\n                            }).format(this.props.song.recorded)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"PublishSongInfo\">\r\n                        {this.props.song.info}\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {(() => {\r\n                        if (this.state.song.published) {\r\n                            return (\r\n                                <button className=\"PublishSong-unpublish-button\" onClick={this.handlePublishPressed}>\r\n                                    ðŸ›‡<br />\r\n                                    UNPUBLISH\r\n                                </button>\r\n                            );\r\n                        } else {\r\n                            return (\r\n                                <button className=\"PublishSong-publish-button\" onClick={this.handlePublishPressed}>\r\n                                    âœ“<br />\r\n                                    PUBLISH\r\n                                </button>\r\n                            );\r\n                        }\r\n                    })()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PublishListItem;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\nimport PublishListItem from '../list-items/PublishListItem.js'\r\n\r\n\r\nclass Studio extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tUID: this.props.UID,\r\n\t\t\tsongs: []\r\n\t\t};\r\n\r\n\t\tthis.firebase = new Firebase()\r\n\t\tthis.getSongs()\r\n\t}\r\n\r\n\thandleUpload = () => {\r\n\t\tthis.props.goto(\"postsong\");\r\n\t}\r\n\r\n\thandleRecord = () => {\r\n\t\tthis.props.goto(\"record\");\r\n\t}\r\n\r\n\thandlePlaySong = (setValue) => {\r\n\t\t// set song in App.js\r\n\t\tthis.props.playSong(setValue);\r\n\t}\r\n\r\n\tgetSongs = () => {\r\n\t\t// Posts branch of tree\r\n\t\tvar ref = this.firebase.db.ref().child('user-songs').child(this.state.UID);\r\n\r\n\t\tref.on('child_added', snapshot => {\r\n\t\t\tconst previousSongs = this.state.songs;\r\n\t\t\tpreviousSongs.push({\r\n\t\t\t\tsongName: snapshot.val().songName,\r\n\t\t\t\turl: snapshot.val().url,\r\n\t\t\t\tartist: snapshot.val().artist,\r\n\t\t\t\trecorded: snapshot.val().recorded,\r\n\t\t\t\tinfo: snapshot.val().info,\r\n\t\t\t\tuploader: snapshot.val().uploader,\r\n\t\t\t\tuploaderName: snapshot.val().uploaderName,\r\n\t\t\t\tuploaded: snapshot.val().uploaded,\r\n\t\t\t\tpublished: snapshot.val().published,\r\n\t\t\t\tid: snapshot.val().id,\r\n\t\t\t\tsongLength: '3:33' // Placeholder\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tsongs: previousSongs\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div id=\"Studio-Add-Song-Btns\">\r\n\t\t\t\t\t<button id=\"Studio-Upload-Btn\" onClick={this.handleUpload}>Upload File</button>\r\n\t\t\t\t\t<button id=\"Studio-Record-Btn\" onClick={this.handleRecord}>Record Song</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"Studio-Songs-List\">\r\n\t\t\t\t\t{this.state.songs.reverse().map((song) => (<PublishListItem song={song} key={song.id} playSong={this.handlePlaySong}/>))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Studio;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\n\r\n\r\nclass RecordSong extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                Record Song...<br/>Yeah still gotta work this out.\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RecordSong;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass PostSong extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            songName: '',\r\n            artistName: '',\r\n            songInfo: '',\r\n            showForm: true\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n    }\r\n\r\n    handleSongNameChange = (event) => {\r\n        this.setState({ songName: event.target.value });\r\n    }\r\n\r\n    handleArtistNameChange = (event) => {\r\n        this.setState({ artistName: event.target.value });\r\n    }\r\n\r\n    handleSongInfoChange = (event) => {\r\n        this.setState({ songInfo: event.target.value });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        if (this.state.songName === '' || this.state.artistName === '' || this.state.songInfo === '') {\r\n            alert(\"Missing information for song upload...\")\r\n            return;\r\n        }\r\n        this.setState({ showForm : false }); // hide form\r\n\r\n        console.log(`submitPressed: ${this.state.artistName} - ${this.state.songName}: ${this.state.songInfo}`)\r\n        this.setState({ songName: '' });\r\n        this.setState({ artistName: '' });\r\n        this.setState({ songInfo: '' });\r\n\r\n        // Send to Firebase\r\n        this.postToFirebase(this.props.UID, this.props.username, this.state.songName, this.state.artistName, this.state.songInfo)\r\n    }\r\n\r\n    postToFirebase(uid, username, songname, artist, info) {\r\n        let date = new Date()\r\n        let timestamp = date.getTime()\r\n\r\n        // Get a key for a new song.\r\n        var newPostKey = this.firebase.db.ref().child('songs').push().key;\r\n\r\n        // Get storage reference and push file blob \r\n        var storageRef = this.firebase.storage.ref().child('songs');\r\n        const file = document.querySelector('#uploadAudioInput').files[0];\r\n        const metadata = { contentType: file.type };\r\n        const storageTask = storageRef.child(this.props.UID).child(newPostKey).child(songname + \".mp3\").put(file, metadata);\r\n        let songData;\r\n        storageTask\r\n            .then(snapshot => snapshot.ref.getDownloadURL())\r\n            .then(url => {\r\n                console.log(url)\r\n                // A song entry for database.\r\n                songData = {\r\n                    url: url,\r\n                    id: newPostKey,\r\n                    songName: songname,\r\n                    artist: artist,\r\n                    info: info,\r\n                    recorded: timestamp,\r\n                    uploaded: timestamp,\r\n                    uploader: uid,\r\n                    uploaderName: username,\r\n                    published: null\r\n                };\r\n\r\n\r\n                // Write the new song's data the user's song list.\r\n                var updates = {};\r\n                updates['/user-songs/' + uid + '/' + newPostKey] = songData;\r\n\r\n                return this.firebase.db.ref().update(updates);\r\n            }).then(() => {\r\n                this.props.goto('studio');\r\n            });\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.state.showForm === true) {\r\n            return (\r\n                <div id=\"submit-song-box\">\r\n                    <div>\r\n                        <input\r\n                            accept=\".mp3,.mp4,.wmv,.m4a\"\r\n                            type=\"file\"\r\n                            id=\"uploadAudioInput\" />\r\n                    </div>\r\n                    <div>\r\n                        Song Name:\r\n                        <textarea id=\"song-name-area\" value={this.state.songName} onChange={this.handleSongNameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Artist:\r\n                        <textarea id=\"artist-names-area\" value={this.state.artistName} onChange={this.handleArtistNameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Additional Info:\r\n                        <textarea id=\"song-info-area\" value={this.state.songInfo} onChange={this.handleSongInfoChange} />\r\n                    </div>\r\n                    <button id=\"post-button\" onClick={this.handleSubmit}>\r\n                        Upload Song\r\n                </button>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>Please Wait...</div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default PostSong;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\nimport TESTprofileImage from '../../assets/TESTprofile-image.png'\r\n\r\n\r\nclass EditProfile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            user: this.props.user\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n    }\r\n\r\n    gotoPublicProfile = () => {\r\n        this.props.gotoProfile(this.state.user.uid);\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        // TODO\r\n    }\r\n\r\n    handleChangePassword = () => {\r\n        this.props.goto(\"changepw\")\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"Profile-Page\">\r\n                <div id=\"Profile-Page-Header\">\r\n                    <div id=\"Profile-Page-Header-Left\">\r\n                        <button id=\"view-public-btn\" onClick={this.gotoPublicProfile}>View Public</button>\r\n                        <div>\r\n                            Name: Jim Beam\r\n                        </div>\r\n                        <div>\r\n                            Username: {this.props.user.username}\r\n                        </div>\r\n                        <div>\r\n                            Email: {this.props.user.email}\r\n                        </div>\r\n                        <div>\r\n                            Bio: stuff stuff stuff stuff stuff\r\n                        </div>\r\n\r\n                        <button onClick={this.handleChangePassword}>Change Password</button>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <img src={TESTprofileImage} className=\"Profile-Page-img\" alt=\"Profile\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default EditProfile;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\n\r\nimport TESTSongArt from '../../assets/TESTdarkside.jpeg'\r\n\r\nclass ProfileSongItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    handlePlay = () => {\r\n        // pass song to SongWall, which will pass on to App\r\n        this.props.setSong(this.props.song);\r\n    }\r\n\r\n    handleUploaderClick = () => {\r\n        this.props.setProfile(this.props.song.uploader);\r\n    }\r\n\r\n    handleSongNameClick = () => {\r\n        this.props.setSongDetails(this.props.song.id);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"SongListItem\">\r\n                <div>\r\n                    <button className=\"Song-Item-Play-Btn\" onClick={this.handlePlay}>\r\n                        <img src={TESTSongArt} className=\"songArt\" alt=\"Song Art\" />\r\n                        {this.props.song.songLength} &#9654;\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"songListItemRight\">\r\n                    <div className=\"songHeader\">\r\n                        <div>\r\n                            <div className=\"songName\">\r\n                                <button onClick={this.handleSongNameClick}>{this.props.song.songName}</button>\r\n                            </div>\r\n                            <div className=\"artistName\">\r\n                                <i>by</i> {\" \" + this.props.song.artist}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"recordingDate\">\r\n                            {new Intl.DateTimeFormat('en-GB', {\r\n                                year: 'numeric',\r\n                                month: 'long',\r\n                                day: '2-digit'\r\n                            }).format(this.props.song.recorded)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"songInfo\">\r\n                        {this.props.song.info}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileSongItem;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\nimport TESTprofileImage from '../../assets/TESTprofile-image.png'\r\n\r\nimport ProfileSongItem from '../list-items/ProfileSongItem.js' // TODO: make special listitem for Profile page\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: this.props.user,\r\n            songs: []\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n        this.getSongs();\r\n    }\r\n\r\n    handleSetSong = (setValue) => {\r\n\r\n        console.log(setValue)\r\n\r\n\t\t// set song in App.js\r\n\t\tthis.props.setSong(setValue);\r\n    }\r\n    \r\n    gotoSongDetails = (id) => {\r\n\t\tconsole.log(id);\r\n\t\tthis.props.gotoSongDetails(id)\r\n\t}\r\n\r\n    getSongs = () => {\r\n        // Songs branch of tree\r\n        var ref = this.firebase.db.ref().child('published-songs').child(this.props.user.uid);\r\n\r\n        ref.on('child_added', snapshot => {\r\n            if (snapshot.val().uploader === this.state.user.uid) {\r\n                const previousSongs = this.state.songs;\r\n                previousSongs.push({\r\n                    url: snapshot.val().url,\r\n                    songName: snapshot.val().songName,\r\n                    artist: snapshot.val().artist,\r\n                    recorded: snapshot.val().recorded,\r\n                    info: snapshot.val().info,\r\n                    uploader: snapshot.val().uploader,\r\n                    uploaderName: snapshot.val().uploaderName,\r\n                    uploaded: snapshot.val().uploaded,\r\n                    published: snapshot.val().published,\r\n                    id: snapshot.val().id,\r\n                    songLength: '3:33' // Placeholder\r\n                });\r\n                this.setState({\r\n                    songs: previousSongs\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"Profile-Page\">\r\n                <div id=\"Profile-Page-Header\">\r\n                    <div id=\"Profile-Page-Header-Left\">\r\n                        <div>\r\n                            Name: {this.props.user.name}\r\n                        </div>\r\n                        <div>\r\n                            Username: {this.props.user.username}\r\n                        </div>\r\n                        <div>\r\n                            Email: {this.props.user.email}\r\n                        </div>\r\n                        <div>\r\n                            Bio: stuff stuff stuff stuff stuff\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <img src={TESTprofileImage} className=\"Profile-Page-img\" alt=\"Profile\" />\r\n                    </div>\r\n                </div>\r\n                <div id=\"Profile-Songs-List\">\r\n                    {this.state.songs.reverse().map((song) => (<ProfileSongItem song={song} key={song.id} setSong={this.handleSetSong} setSongDetails={this.gotoSongDetails} />))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/main-content.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\nimport TESTimage from '../../assets/TESTdarkside.jpeg'\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            songId: this.props.songId,\r\n            song: null\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"Song-Details-Page\">\r\n                <div>\r\n                    {this.props.song.songName}\r\n                </div>\r\n                <img src={TESTimage} className=\"Song-Details-img\" alt=\"Song art\" />\r\n                <div>\r\n                    {this.props.song.artist}\r\n                </div>\r\n                <div>\r\n                    {this.props.song.info}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/music-player.css';\r\n\r\nclass TopBarPlayer extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsong: null,\r\n\t\t\tmusicPosition: \"0%\",\r\n\t\t\tvolumePosition: \"100%\",\r\n\t\t\tsongDuration: '',\r\n\t\t\tcurrentPosition: ''\r\n\t\t};\r\n\r\n\t\tthis.audioPlayer = new Audio();\r\n\t\tthis.audioPlayer.loop = false;\r\n\t\tthis.audioPlayer.addEventListener('timeupdate', () => {\r\n\t\t\tvar position = this.audioPlayer.currentTime / this.audioPlayer.duration;\r\n\t\t\tthis.setState({\r\n\t\t\t\tmusicPosition: (position * 100) + '%',\r\n\t\t\t\tcurrentPosition: this.formatMinutesSeconds(Math.floor(this.audioPlayer.currentTime))\r\n\t\t\t});\r\n\t\t});\r\n\t\tthis.audioPlayer.addEventListener('volumechange', () => {\r\n\t\t\tvar position = this.audioPlayer.volume;\r\n\t\t\tthis.setState({ volumePosition: (position * 100) + '%' });\r\n\t\t});\r\n\t\tthis.audioPlayer.onloadedmetadata = () => {\r\n\t\t\tconsole.log(`metadata loaded! duration: ${this.audioPlayer.duration}`);\r\n\t\t\t// TODO: update firebase with a song duration if not yet posted there\r\n\t\t\tthis.setState({ songDuration: this.formatMinutesSeconds(Math.floor(this.audioPlayer.duration)) });\r\n\t\t};\r\n\r\n\t\tthis.seekBar = React.createRef()\r\n\t\tthis.volumeBar = React.createRef()\r\n\t}\r\n\r\n\tcomponentWillUpdate(props) {\r\n\t\tif (props.song === null || props.song.url === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.state.song !== null && props.song.id === this.state.song.id) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({ song: props.song });\r\n\t\tthis.audioPlayer.src = props.song.url;\r\n\t\tthis.audioPlayer.play();\r\n\t}\r\n\r\n\thandlePlayOrPause = () => {\r\n\t\tif (this.audioPlayer.src === '') {\r\n\t\t\talert(\"Error: nothing to play!\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.audioPlayer.ended || this.audioPlayer.paused) {\r\n\t\t\tthis.audioPlayer.play();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.audioPlayer.ended && !this.audioPlayer.paused) {\r\n\t\t\tthis.audioPlayer.pause();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\thandleSeekBarClick = (e) => {\r\n\t\tlet seekRatio = (e.pageX - e.target.offsetLeft) / this.seekBar.current.offsetWidth\r\n\r\n\t\tthis.audioPlayer.currentTime = (this.audioPlayer.duration * seekRatio)\r\n\t}\r\n\r\n\thandleVolumeBarClick = (e) => {\r\n\t\tlet volumeRatio = 1 - ((e.pageY - e.target.offsetTop) / this.volumeBar.current.offsetHeight)\r\n\t\tif (volumeRatio <= 0.05) {\r\n\t\t\tvolumeRatio = 0;\r\n\t\t} else if (volumeRatio >= 0.95) {\r\n\t\t\tvolumeRatio = 1;\r\n\t\t}\r\n\r\n\t\tthis.audioPlayer.volume = volumeRatio;\r\n\t}\r\n\r\n\tformatMinutesSeconds(s) { return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + s }\r\n\r\n\trender() {\r\n\t\tif (this.state.song !== null) {\r\n\t\t\treturn (\r\n\t\t\t\t<div id=\"Top-Bar-Player\">\r\n\t\t\t\t\t<div id=\"Top-Player-Center-Div\">\r\n\t\t\t\t\t\t<div id=\"Top-Player-Info-Div\">\r\n\t\t\t\t\t\t\t<div id=\"Top-Player-Artist\">\r\n\t\t\t\t\t\t\t\t{this.state.song.artist}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t&nbsp;-&nbsp;\r\n\t\t\t\t\t\t<div id=\"Top-Player-Song\">\r\n\t\t\t\t\t\t\t\t{this.state.song.songName}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"Top-Player-Time-Div\">\r\n\t\t\t\t\t\t\t<div className=\"Top-Player-Time-Text-Div\">\r\n\t\t\t\t\t\t\t\t{this.state.currentPosition}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"seek-bar\" ref={this.seekBar} onClick={this.handleSeekBarClick}>\r\n\t\t\t\t\t\t\t\t<div id=\"fill\" style={{ width: this.state.musicPosition }}></div>\r\n\t\t\t\t\t\t\t\t<div id=\"handle\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"Top-Player-Time-Text-Div\">\r\n\t\t\t\t\t\t\t\t{this.state.songDuration}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"Top-Player-Btns\">\r\n\t\t\t\t\t\t\t<button id=\"TP-Play-Pause-Btn\" onClick={this.handlePlayOrPause}>&#9654;</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"volume-bar\" ref={this.volumeBar} onClick={this.handleVolumeBarClick}>\r\n\t\t\t\t\t\t<div id=\"volume-fill\" style={{ height: this.state.volumePosition }}></div>\r\n\t\t\t\t\t\t<div id=\"volume-handle\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<div></div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default TopBarPlayer;\r\n","import React, { Component } from 'react';\nimport './styles/App.css';\nimport Firebase from './config/firebaseConfig.js'\n\n// Assets\nimport cornerLogo from './assets/corner-logo-blinq.png'\n\n\n// Auth\nimport SignIn from './components/auth/SignIn.js'\nimport SignUp from './components/auth/SignUp.js'\nimport ChangePassword from './components/auth/ChangePassword.js'\n\n// Main Content\nimport SongWall from './components/main-content/SongWall.js'\nimport Studio from './components/main-content/Studio.js'\nimport RecordSong from './components/main-content/RecordSong.js'\nimport PostSong from './components/main-content/PostSong.js'\nimport EditProfile from './components/main-content/EditProfile.js'\nimport Profile from './components/main-content/Profile.js'\nimport SongDetails from './components/main-content/SongDetails.js'\n\n// Music Player\nimport TopBarPlayer from './components/music-player/TopBarPlayer.js'\n\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmainContent: 'signin', // signin, signup, postsong, songwall, songdetails, studio, profile, editprofile, changepw, record, etc.\n\t\t\tUID: null,\n\t\t\tusername: '',\n\t\t\tcurrentSong: null, // for playing\n\t\t\tviewSong: null, // to view SongDetails page\n\t\t\tviewProfile: null // set to ID of profile you want to view\n\t\t};\n\n\t\tthis.firebase = new Firebase()\n\t\tthis.firebase.auth.onAuthStateChanged((user) => {\n\t\t\tif (user) {\n\t\t\t\tconsole.log(`UID: ${user.uid}`);\n\t\t\t\tthis.setState({\n\t\t\t\t\tUID: user.uid,\n\t\t\t\t\temail: user.email\n\t\t\t\t});\n\t\t\t\tthis.getUsername();\n\t\t\t}\n\t\t});\n\n\t}\n\n\tgetUsername = () => {\n\t\t// Get user's Username from database\n\t\tvar ref = this.firebase.db.ref().child('users').child(this.state.UID)\n\n\t\tref.on(\"value\", (snapshot) => {\n\t\t\tthis.setState({\n\t\t\t\tuser: snapshot.val(),\n\t\t\t\tusername: snapshot.val().username // probably just need to set user in state\n\t\t\t});\n\t\t}, function (errorObject) {\n\t\t\tconsole.log(\"The read failed: \" + errorObject.code);\n\t\t});\n\n\t}\n\n\thandleSignOut = () => {\n\t\tthis.setState({ UID: null });\n\t\tthis.firebase.auth.signOut().then(function () {\n\t\t\t// Sign-out successful.\n\t\t\tconsole.log(`signed out`)\n\t\t}).catch(function (error) {\n\t\t\t// An error happened.\n\t\t\tconsole.log(`Error signing out: ${error}`)\n\t\t});\n\t}\n\n\thandleSignIn = () => {\n\t\t// set UID, page to SongWall\n\t\tthis.setState({\n\t\t\tmainContent: 'songwall'\n\t\t});\n\t}\n\n\thandleSetSong = (setValue) => {\n\t\tconsole.log(\"handle setsong: \" + setValue)\n\t\tif (this.state.currentSong !== null && setValue.url !== this.state.currentSong.url) {\n\t\t\tthis.setState({\n\t\t\t\tcurrentSong: setValue\n\t\t\t});\n\t\t} else if (this.state.currentSong == null) {\n\t\t\tthis.setState({\n\t\t\t\tcurrentSong: setValue\n\t\t\t});\n\t\t}\n\t}\n\n\tsetMainContent = (setValue) => {\n\t\tthis.setState({ mainContent: setValue });\n\t}\n\n\thandleSearch = () => {\n\t\talert(\"App.handleSearch... nothing doing yet\")\n\t}\n\n\topenSongWall = () => {\n\t\tif (this.state.mainContent !== 'songwall') {\n\t\t\tthis.setState({ mainContent: 'songwall' });\n\t\t}\n\t}\n\n\topenPostSong = () => {\n\t\tif (this.state.mainContent !== 'postsong') {\n\t\t\tthis.setState({ mainContent: 'postsong' });\n\t\t}\n\t}\n\n\topenStudio = () => {\n\t\tif (this.state.mainContent !== 'studio') {\n\t\t\tthis.setState({ mainContent: 'studio' });\n\t\t}\n\t}\n\n\topenRecord = () => {\n\t\tif (this.state.mainContent !== 'record') {\n\t\t\tthis.setState({ mainContent: 'record' });\n\t\t}\n\t}\n\n\topenEditProfile = () => {\n\t\tif (this.state.mainContent !== 'editprofile') {\n\t\t\tthis.setState({ mainContent: 'editprofile' });\n\t\t}\n\t}\n\n\tgotoProfile = (uid) => {\n\t\tconsole.log(\"goto profile: \" + uid)\n\n\t\tif (this.state.viewProfile !== uid) {\n\t\t\tthis.setState({ viewProfile: uid });\n\t\t}\n\t\tif (this.state.mainContent !== 'profile') {\n\t\t\tthis.setState({ mainContent: 'profile' });\n\t\t}\n\t}\n\n\tgotoSongDetails = (songId) => {\n\t\tconsole.log(\"goto song details: \" + songId)\n\n\t\tif (this.state.viewSong === null || this.state.viewSong.id !== songId) {\n\t\t\tvar ref = this.firebase.db.ref().child('songs').child(songId);\n\n\t\t\tref.once(\"value\", (snapshot) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tviewSong: snapshot.val()\n\t\t\t\t});\n\t\t\t}).then(() => {\n\t\t\t\tif (this.state.mainContent !== 'songdetails') {\n\t\t\t\t\tthis.setState({ mainContent: 'songdetails' });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<header className=\"App-body\">\n\t\t\t\t\t<div id=\"App-Inner-Body\">\n\t\t\t\t\t\t<div id=\"App-Header\">\n\t\t\t\t\t\t\t<div className=\"spacer-240w\" />\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\tif (this.state.UID) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TopBarPlayer song={this.state.currentSong} />\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=\"App-Body-Content\">\n\t\t\t\t\t\t\t<div id=\"Main-Left\">\n\t\t\t\t\t\t\t\t<button id=\"Home-Div\" onClick={this.openSongWall}>\n\t\t\t\t\t\t\t\t\t<img src={cornerLogo} className=\"Blinq-logo\" alt=\"Blinq logo\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\tif (this.state.UID) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div id=\"Main-Left-Menu\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Header-Btns\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"Profile-Btn\" onClick={this.openEditProfile}>My Profile</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"Logout-Btn\" onClick={this.handleSignOut}>Logout</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Search-Div\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input id=\"Search-Input\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button id=\"Search-Btn\" onClick={this.handleSearch}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"mag-glass\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&#9906;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"Main-Left-Menu-Btn\" onClick={this.openStudio}>STUDIO</button>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"Main-Left-Menu-Btn\" onClick={this.openSongWall}>SONG-WALL</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn <SignIn signIn={this.handleSignIn} />;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"Main-Content\">\n\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\tif (this.state.UID) {\n\t\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\n\t\t\t\t\t\t\t\t\t\t\tcase 'songwall':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <SongWall setSong={this.handleSetSong} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'studio':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Studio UID={this.state.UID} goto={this.setMainContent} playSong={this.handleSetSong} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'postsong':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <PostSong UID={this.state.UID} username={this.state.username} goto={this.setMainContent} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'record':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <RecordSong UID={this.state.UID} username={this.state.username} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'editprofile':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <EditProfile user={this.state.user} gotoProfile={this.gotoProfile} goto={this.setMainContent} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'changepw':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <ChangePassword email={this.state.email} />;\n\t\t\t\t\t\t\t\t\t\t\tcase 'profile':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Profile user={this.state.user} UID={this.state.uid} setSong={this.handleSetSong} gotoSongDetails={this.gotoSongDetails}/>;\n\t\t\t\t\t\t\t\t\t\t\tcase 'songdetails':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <SongDetails song={this.state.viewSong} />;\n\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\treturn <SongWall setSong={this.handleSetSong} gotoProfile={this.gotoProfile} gotoSongDetails={this.gotoSongDetails} />;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\n\t\t\t\t\t\t\t\t\t\t\tcase 'signup':\n\t\t\t\t\t\t\t\t\t\t\t\treturn <SignUp gotoSignIn={this.setMainContent} />;\n\t\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div />;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './js/serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/TESTprofile-image.ab8d4060.png\";","module.exports = __webpack_public_path__ + \"static/media/corner-logo-blinq.c9ee6b5e.png\";"],"sourceRoot":""}