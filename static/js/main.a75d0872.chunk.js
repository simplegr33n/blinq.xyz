(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/TESTdarkside.2bd292a8.jpeg"},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(59),i=a.n(s),r=(a(66),a(2)),l=a(3),c=a(5),u=a(4),d=a(6),m=(a(32),a(20)),g=a.n(m),h=(a(113),a(117),a(121),{apiKey:"AIzaSyBLea3SENzTDx8fHj3oo3vktAF-7B3jyXQ",authDomain:"blinq-43545.firebaseapp.com",databaseURL:"https://blinq-43545.firebaseio.com",projectId:"blinq-43545",storageBucket:"blinq-43545.appspot.com",messagingSenderId:"234958171789"}),p=function e(){Object(r.a)(this,e),g.a.apps.length||g.a.initializeApp(h),this.db=g.a.database(),this.auth=g.a.auth(),this.storage=g.a.storage()},f=a(60),v=a.n(f),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleLogin=function(){a.hideSigninFields();var e=a.state.username,t=a.state.password;console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?(a.setState({username:"",password:""}),a.firebase.auth.signInWithEmailAndPassword(e,t).then(function(){a.props.signIn("songwall")}).catch(function(e){var t=e.code,n=e.message;alert("".concat(t,": ").concat(n)),a.showSigninFields()})):alert("Bad email me thinks :(")},a.keyPress=function(e){13===e.keyCode&&a.handleLogin()},a.hideSigninFields=function(){a.setState({SHOWFIELDS:!1})},a.showSigninFields=function(){a.setState({SHOWFIELDS:!0})},a.state={username:"",password:"",SHOWFIELDS:!0},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"render",value:function(){return this.state.SHOWFIELDS?o.a.createElement("form",{id:"signin-form"},o.a.createElement("label",{htmlFor:"signin-username"},"E-mail"),o.a.createElement("input",{id:"signin-username",value:this.state.username,onChange:this.handleUsernameChange}),o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",id:"signin-password",onKeyDown:this.keyPress,value:this.state.password,onChange:this.handlePasswordChange}),o.a.createElement("div",null,o.a.createElement("button",{id:"submit-signin-btn",onClick:this.handleLogin}," Sign in! "))):o.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).hideSignupFields=function(){a.setState({SHOWFIELDS:!1})},a.showSignupFields=function(){a.setState({SHOWFIELDS:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){var e=a.state.username,t=a.state.password;return console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?a.validatePassword(t)?void a.firebase.auth.createUserWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a))}):(alert("Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character."),void a.setState({password:""})):(alert("Bad email me thinks :("),void a.setState({username:""}))},a.handleGotoSignIn=function(){a.props.gotoSignIn("signin"),console.log("Goto signin pressed")},a.state={username:"",password:"",SHOWFIELDS:!1},a.firebase=new p,a.firebase.auth.onAuthStateChanged(function(e){e?a.postUserToFirebase(e.uid,e.email):a.showSignupFields()}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"postUserToFirebase",value:function(e,t){var a=(new Date).getTime(),n={uid:e,username:t,email:t,createdAt:a,updatedAt:a},o={};return o["/users/"+e]=n,this.firebase.db.ref().update(o)}},{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"render",value:function(){return this.state.SHOWFIELDS?o.a.createElement("div",{id:"signup-div"},o.a.createElement("h3",null,"Sign Up"),o.a.createElement("div",null,"Email:",o.a.createElement("input",{id:"signup-username",value:this.state.username,onChange:this.handleUsernameChange})),o.a.createElement("div",null,"Password:",o.a.createElement("input",{type:"password",id:"signup-password",value:this.state.password,onChange:this.handlePasswordChange})),o.a.createElement("div",null,o.a.createElement("button",{id:"submit-signup-btn",onClick:this.handleSubmit}," Sign up! ")),o.a.createElement("div",null,o.a.createElement("button",{id:"goto-signin-btn",onClick:this.handleGotoSignIn}," Sign in! "))):o.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),E=(a(8),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleResetPassword=function(){a.firebase.auth.sendPasswordResetEmail(a.state.email),alert("Password reset email sent!")},a.state={email:a.props.email},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Reset Password?"),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.handleResetPassword}," Confirm Reset Password ")))}}]),t}(n.Component)),P=a(11),y=a.n(P),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlePlay=function(){a.props.setSong(a.props.song)},a.handleUploaderClick=function(){a.props.setProfile(a.props.song.uploader)},a.handleSongNameClick=function(){a.props.setSongDetails(a.props.song.id)},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"SongListItem"},o.a.createElement("div",null,o.a.createElement("button",{className:"Song-Item-Play-Btn",onClick:this.handlePlay},o.a.createElement("img",{src:y.a,className:"songArt",alt:"Song Art"}),this.props.song.songLength," \u25b6")),o.a.createElement("div",{className:"songListItemRight"},o.a.createElement("div",{className:"songHeader"},o.a.createElement("div",null,o.a.createElement("div",{className:"songName"},o.a.createElement("button",{onClick:this.handleSongNameClick},this.props.song.songName)),o.a.createElement("div",{className:"artistName"},o.a.createElement("i",null,"by")," "," "+this.props.song.artist)),o.a.createElement("div",{className:"recordingDate"},new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(this.props.song.recorded))),o.a.createElement("div",{className:"songInfo"},this.props.song.info),o.a.createElement("button",{className:"songList-Uploader-Btn",onClick:this.handleUploaderClick},"Uploader: ",this.props.song.uploader)))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getSongs=function(){a.firebase.db.ref().child("songs").on("child_added",function(e){var t=a.state.songs;t.push({url:e.val().url,songName:e.val().songName,artist:e.val().artist,recorded:e.val().recorded,info:e.val().info,uploader:e.val().uploader,uploaderName:e.val().uploaderName,uploaded:e.val().uploaded,published:e.val().published,id:e.val().id,songLength:"3:33"}),a.setState({songs:t})})},a.handleSetSong=function(e){a.props.setSong(e)},a.gotoProfile=function(e){console.log(e),a.props.gotoProfile(e)},a.gotoSongDetails=function(e){console.log(e),a.props.gotoSongDetails(e)},a.state={songs:[],lastProps:null},a.firebase=new p,a.getSongs(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"Songs-List"},this.state.songs.reverse().map(function(t){return o.a.createElement(C,{song:t,key:t.id,setSong:e.handleSetSong,setProfile:e.gotoProfile,setSongDetails:e.gotoSongDetails})}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlePlay=function(){a.props.playSong(a.props.song)},a.handlePublishPressed=function(){var e=a.props.song;if(console.log("pubstate"+e.published),void 0===e.published||null===e.published){var t=(new Date).getTime();e.published=t,a.setState({song:e}),console.log("Publish: "+e);var n={};return n["/songs/"+e.id]=e,n["/published-songs/"+e.uploader+"/"+e.id]=e,n["/user-songs/"+e.uploader+"/"+e.id]=e,a.firebase.db.ref().update(n)}e.published=null,a.setState({song:e}),console.log("Unpublish: "+e),a.firebase.db.ref().child("songs").child(e.id).remove(),a.firebase.db.ref().child("published-songs").child(e.uploader).child(e.id).remove();var o={};return o["/user-songs/"+e.uploader+"/"+e.id]=e,a.firebase.db.ref().update(o)},a.state={song:a.props.song},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"PublishSongListItem"},o.a.createElement("div",null,o.a.createElement("button",{className:"Publish-Song-Play-Btn",onClick:this.handlePlay},o.a.createElement("img",{src:y.a,className:"PublishSongArt",alt:"Song Art"}),this.props.song.songLength," \u25b6")),o.a.createElement("div",{className:"songListItemRight"},o.a.createElement("div",{className:"songHeader"},o.a.createElement("div",null,o.a.createElement("div",{className:"PublishSongName"},this.props.song.songName),o.a.createElement("div",{className:"PublishSongArtistName"},o.a.createElement("i",null,"by")," "," "+this.props.song.artist)),o.a.createElement("div",{className:"PublishSongRecordingDate"},new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(this.props.song.recorded))),o.a.createElement("div",{className:"PublishSongInfo"},this.props.song.info)),o.a.createElement("div",null,e.state.song.published?o.a.createElement("button",{className:"PublishSong-unpublish-button",onClick:e.handlePublishPressed},"\ud83d\udec7",o.a.createElement("br",null),"UNPUBLISH"):o.a.createElement("button",{className:"PublishSong-publish-button",onClick:e.handlePublishPressed},"\u2713",o.a.createElement("br",null),"PUBLISH")))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUpload=function(){a.props.goto("postsong")},a.handleRecord=function(){a.props.goto("record")},a.handlePlaySong=function(e){a.props.playSong(e)},a.getSongs=function(){a.firebase.db.ref().child("user-songs").child(a.state.UID).on("child_added",function(e){var t=a.state.songs;t.push({songName:e.val().songName,url:e.val().url,artist:e.val().artist,recorded:e.val().recorded,info:e.val().info,uploader:e.val().uploader,uploaderName:e.val().uploaderName,uploaded:e.val().uploaded,published:e.val().published,id:e.val().id,songLength:"3:33"}),a.setState({songs:t})})},a.state={UID:a.props.UID,songs:[]},a.firebase=new p,a.getSongs(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{id:"Studio-Add-Song-Btns"},o.a.createElement("button",{id:"Studio-Upload-Btn",onClick:this.handleUpload},"Upload File"),o.a.createElement("button",{id:"Studio-Record-Btn",onClick:this.handleRecord},"Record Song")),o.a.createElement("div",{id:"Studio-Songs-List"},this.state.songs.reverse().map(function(t){return o.a.createElement(N,{song:t,key:t.id,playSong:e.handlePlaySong})})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"Record Song...",o.a.createElement("br",null),"Yeah still gotta work this out.")}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSongNameChange=function(e){a.setState({songName:e.target.value})},a.handleArtistNameChange=function(e){a.setState({artistName:e.target.value})},a.handleSongInfoChange=function(e){a.setState({songInfo:e.target.value})},a.handleSubmit=function(){""!==a.state.songName&&""!==a.state.artistName&&""!==a.state.songInfo?(a.setState({showForm:!1}),console.log("submitPressed: ".concat(a.state.artistName," - ").concat(a.state.songName,": ").concat(a.state.songInfo)),a.setState({songName:""}),a.setState({artistName:""}),a.setState({songInfo:""}),a.postToFirebase(a.props.UID,a.props.username,a.state.songName,a.state.artistName,a.state.songInfo)):alert("Missing information for song upload...")},a.state={songName:"",artistName:"",songInfo:"",showForm:!0},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"postToFirebase",value:function(e,t,a,n,o){var s,i=this,r=(new Date).getTime(),l=this.firebase.db.ref().child("songs").push().key,c=this.firebase.storage.ref().child("songs"),u=document.querySelector("#uploadAudioInput").files[0],d={contentType:u.type};c.child(this.props.UID).child(l).child(a+".mp3").put(u,d).then(function(e){return e.ref.getDownloadURL()}).then(function(c){console.log(c),s={url:c,id:l,songName:a,artist:n,info:o,recorded:r,uploaded:r,uploader:e,uploaderName:t,published:null};var u={};return u["/user-songs/"+e+"/"+l]=s,i.firebase.db.ref().update(u)}).then(function(){i.props.goto("studio")})}},{key:"render",value:function(){return!0===this.state.showForm?o.a.createElement("div",{id:"submit-song-box"},o.a.createElement("div",null,o.a.createElement("input",{accept:".mp3,.mp4,.wmv,.m4a",type:"file",id:"uploadAudioInput"})),o.a.createElement("div",null,"Song Name:",o.a.createElement("textarea",{id:"song-name-area",value:this.state.songName,onChange:this.handleSongNameChange})),o.a.createElement("div",null,"Artist:",o.a.createElement("textarea",{id:"artist-names-area",value:this.state.artistName,onChange:this.handleArtistNameChange})),o.a.createElement("div",null,"Additional Info:",o.a.createElement("textarea",{id:"song-info-area",value:this.state.songInfo,onChange:this.handleSongInfoChange})),o.a.createElement("button",{id:"post-button",onClick:this.handleSubmit},"Upload Song")):o.a.createElement("div",null,"Please Wait...")}}]),t}(n.Component),I=a(31),D=a.n(I),U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).gotoPublicProfile=function(){a.props.gotoProfile(a.state.user.uid)},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handleSubmit=function(){},a.handleChangePassword=function(){a.props.goto("changepw")},a.state={username:"",user:a.props.user},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"Profile-Page"},o.a.createElement("div",{id:"Profile-Page-Header"},o.a.createElement("div",{id:"Profile-Page-Header-Left"},o.a.createElement("button",{id:"view-public-btn",onClick:this.gotoPublicProfile},"View Public"),o.a.createElement("div",null,"Name: Jim Beam"),o.a.createElement("div",null,"Username: ",this.props.user.username),o.a.createElement("div",null,"Email: ",this.props.user.email),o.a.createElement("div",null,"Bio: stuff stuff stuff stuff stuff"),o.a.createElement("button",{onClick:this.handleChangePassword},"Change Password")),o.a.createElement("div",null,o.a.createElement("img",{src:D.a,className:"Profile-Page-img",alt:"Profile"}))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlePlay=function(){a.props.setSong(a.props.song)},a.handleUploaderClick=function(){a.props.setProfile(a.props.song.uploader)},a.handleSongNameClick=function(){a.props.setSongDetails(a.props.song.id)},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"SongListItem"},o.a.createElement("div",null,o.a.createElement("button",{className:"Song-Item-Play-Btn",onClick:this.handlePlay},o.a.createElement("img",{src:y.a,className:"songArt",alt:"Song Art"}),this.props.song.songLength," \u25b6")),o.a.createElement("div",{className:"songListItemRight"},o.a.createElement("div",{className:"songHeader"},o.a.createElement("div",null,o.a.createElement("div",{className:"songName"},o.a.createElement("button",{onClick:this.handleSongNameClick},this.props.song.songName)),o.a.createElement("div",{className:"artistName"},o.a.createElement("i",null,"by")," "," "+this.props.song.artist)),o.a.createElement("div",{className:"recordingDate"},new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(this.props.song.recorded))),o.a.createElement("div",{className:"songInfo"},this.props.song.info)))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSetSong=function(e){console.log(e),a.props.setSong(e)},a.gotoSongDetails=function(e){console.log(e),a.props.gotoSongDetails(e)},a.getSongs=function(){a.firebase.db.ref().child("published-songs").child(a.props.user.uid).on("child_added",function(e){if(e.val().uploader===a.state.user.uid){var t=a.state.songs;t.push({url:e.val().url,songName:e.val().songName,artist:e.val().artist,recorded:e.val().recorded,info:e.val().info,uploader:e.val().uploader,uploaderName:e.val().uploaderName,uploaded:e.val().uploaded,published:e.val().published,id:e.val().id,songLength:"3:33"}),a.setState({songs:t})}})},a.state={user:a.props.user,songs:[]},a.firebase=new p,a.getSongs(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"Profile-Page"},o.a.createElement("div",{id:"Profile-Page-Header"},o.a.createElement("div",{id:"Profile-Page-Header-Left"},o.a.createElement("div",null,"Name: ",this.props.user.name),o.a.createElement("div",null,"Username: ",this.props.user.username),o.a.createElement("div",null,"Email: ",this.props.user.email),o.a.createElement("div",null,"Bio: stuff stuff stuff stuff stuff")),o.a.createElement("div",null,o.a.createElement("img",{src:D.a,className:"Profile-Page-img",alt:"Profile"}))),o.a.createElement("div",{id:"Profile-Songs-List"},this.state.songs.reverse().map(function(t){return o.a.createElement(L,{song:t,key:t.id,setSong:e.handleSetSong,setSongDetails:e.gotoSongDetails})})))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={songId:a.props.songId,song:null},a.firebase=new p,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"Song-Details-Page"},o.a.createElement("div",null,this.props.song.songName),o.a.createElement("img",{src:y.a,className:"Song-Details-img",alt:"Song art"}),o.a.createElement("div",null,this.props.song.artist),o.a.createElement("div",null,this.props.song.info))}}]),t}(n.Component),A=(a(119),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handlePlayOrPause=function(){""!==a.audioPlayer.src?a.audioPlayer.ended||a.audioPlayer.paused?a.audioPlayer.play():a.audioPlayer.ended||a.audioPlayer.paused||a.audioPlayer.pause():alert("Error: nothing to play!")},a.handleSeekBarClick=function(e){var t=(e.pageX-e.target.offsetLeft)/a.seekBar.current.offsetWidth;a.audioPlayer.currentTime=a.audioPlayer.duration*t},a.handleVolumeBarClick=function(e){var t=1-(e.pageY-e.target.offsetTop)/a.volumeBar.current.offsetHeight;t<=.05?t=0:t>=.95&&(t=1),a.audioPlayer.volume=t},a.state={song:null,musicPosition:"0%",volumePosition:"100%",songDuration:"",currentPosition:""},a.audioPlayer=new Audio,a.audioPlayer.loop=!1,a.audioPlayer.addEventListener("timeupdate",function(){var e=a.audioPlayer.currentTime/a.audioPlayer.duration;a.setState({musicPosition:100*e+"%",currentPosition:a.formatMinutesSeconds(Math.floor(a.audioPlayer.currentTime))})}),a.audioPlayer.addEventListener("volumechange",function(){var e=a.audioPlayer.volume;a.setState({volumePosition:100*e+"%"})}),a.audioPlayer.onloadedmetadata=function(){console.log("metadata loaded! duration: ".concat(a.audioPlayer.duration)),a.setState({songDuration:a.formatMinutesSeconds(Math.floor(a.audioPlayer.duration))})},a.seekBar=o.a.createRef(),a.volumeBar=o.a.createRef(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUpdate",value:function(e){null!==e.song&&void 0!==e.song.url&&(null!==this.state.song&&e.song.id===this.state.song.id||(this.setState({song:e.song}),this.audioPlayer.src=e.song.url,this.audioPlayer.play()))}},{key:"formatMinutesSeconds",value:function(e){return(e-(e%=60))/60+(9<e?":":":0")+e}},{key:"render",value:function(){return null!==this.state.song?o.a.createElement("div",{id:"Top-Bar-Player"},o.a.createElement("div",{id:"Top-Player-Center-Div"},o.a.createElement("div",{id:"Top-Player-Info-Div"},o.a.createElement("div",{id:"Top-Player-Artist"},this.state.song.artist),"\xa0-\xa0",o.a.createElement("div",{id:"Top-Player-Song"},this.state.song.songName)),o.a.createElement("div",{id:"Top-Player-Time-Div"},o.a.createElement("div",{className:"Top-Player-Time-Text-Div"},this.state.currentPosition),o.a.createElement("div",{id:"seek-bar",ref:this.seekBar,onClick:this.handleSeekBarClick},o.a.createElement("div",{id:"fill",style:{width:this.state.musicPosition}}),o.a.createElement("div",{id:"handle"})),o.a.createElement("div",{className:"Top-Player-Time-Text-Div"},this.state.songDuration)),o.a.createElement("div",{id:"Top-Player-Btns"},o.a.createElement("button",{id:"TP-Play-Pause-Btn",onClick:this.handlePlayOrPause},"\u25b6"))),o.a.createElement("div",{id:"volume-bar",ref:this.volumeBar,onClick:this.handleVolumeBarClick},o.a.createElement("div",{id:"volume-fill",style:{height:this.state.volumePosition}}),o.a.createElement("div",{id:"volume-handle"}))):o.a.createElement("div",null)}}]),t}(n.Component)),F=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUsername=function(){a.firebase.db.ref().child("users").child(a.state.UID).on("value",function(e){a.setState({user:e.val(),username:e.val().username})},function(e){console.log("The read failed: "+e.code)})},a.handleSignOut=function(){a.setState({UID:null}),a.firebase.auth.signOut().then(function(){console.log("signed out")}).catch(function(e){console.log("Error signing out: ".concat(e))})},a.handleSignIn=function(){a.setState({mainContent:"songwall"})},a.handleSetSong=function(e){console.log("handle setsong: "+e),null!==a.state.currentSong&&e.url!==a.state.currentSong.url?a.setState({currentSong:e}):null==a.state.currentSong&&a.setState({currentSong:e})},a.setMainContent=function(e){a.setState({mainContent:e})},a.handleSearch=function(){alert("App.handleSearch... nothing doing yet")},a.openSongWall=function(){"songwall"!==a.state.mainContent&&a.setState({mainContent:"songwall"})},a.openPostSong=function(){"postsong"!==a.state.mainContent&&a.setState({mainContent:"postsong"})},a.openStudio=function(){"studio"!==a.state.mainContent&&a.setState({mainContent:"studio"})},a.openRecord=function(){"record"!==a.state.mainContent&&a.setState({mainContent:"record"})},a.openEditProfile=function(){"editprofile"!==a.state.mainContent&&a.setState({mainContent:"editprofile"})},a.gotoProfile=function(e){console.log("goto profile: "+e),a.state.viewProfile!==e&&a.setState({viewProfile:e}),"profile"!==a.state.mainContent&&a.setState({mainContent:"profile"})},a.gotoSongDetails=function(e){(console.log("goto song details: "+e),null===a.state.viewSong||a.state.viewSong.id!==e)&&a.firebase.db.ref().child("songs").child(e).once("value",function(e){a.setState({viewSong:e.val()})}).then(function(){"songdetails"!==a.state.mainContent&&a.setState({mainContent:"songdetails"})})},a.state={mainContent:"signin",UID:null,username:"",currentSong:null,viewSong:null,viewProfile:null},a.firebase=new p,a.firebase.auth.onAuthStateChanged(function(e){e&&(console.log("UID: ".concat(e.uid)),a.setState({UID:e.uid,email:e.email}),a.getUsername())}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-body"},o.a.createElement("div",{id:"App-Inner-Body"},o.a.createElement("div",{id:"App-Header"},o.a.createElement("div",{className:"spacer-240w"}),function(){if(e.state.UID)return o.a.createElement(A,{song:e.state.currentSong})}()),o.a.createElement("div",{id:"App-Body-Content"},o.a.createElement("div",{id:"Main-Left"},o.a.createElement("button",{id:"Home-Div",onClick:this.openSongWall},o.a.createElement("img",{src:v.a,className:"Blinq-logo",alt:"Blinq logo"})),e.state.UID?o.a.createElement("div",{id:"Main-Left-Menu"},o.a.createElement("div",{id:"Header-Btns"},o.a.createElement("button",{id:"Profile-Btn",onClick:e.openEditProfile},"My Profile"),o.a.createElement("button",{id:"Logout-Btn",onClick:e.handleSignOut},"Logout")),o.a.createElement("div",{id:"Search-Div"},o.a.createElement("input",{id:"Search-Input"}),o.a.createElement("button",{id:"Search-Btn",onClick:e.handleSearch},o.a.createElement("div",{id:"mag-glass"},"\u26b2"))),o.a.createElement("button",{className:"Main-Left-Menu-Btn",onClick:e.openStudio},"STUDIO"),o.a.createElement("button",{className:"Main-Left-Menu-Btn",onClick:e.openSongWall},"SONG-WALL")):o.a.createElement(b,{signIn:e.handleSignIn})),o.a.createElement("div",{id:"Main-Content"},function(){if(e.state.UID)switch(e.state.mainContent){case"songwall":return o.a.createElement(w,{setSong:e.handleSetSong});case"studio":return o.a.createElement(O,{UID:e.state.UID,goto:e.setMainContent,playSong:e.handleSetSong});case"postsong":return o.a.createElement(j,{UID:e.state.UID,username:e.state.username,goto:e.setMainContent});case"record":return o.a.createElement(k,{UID:e.state.UID,username:e.state.username});case"editprofile":return o.a.createElement(U,{user:e.state.user,gotoProfile:e.gotoProfile,goto:e.setMainContent});case"changepw":return o.a.createElement(E,{email:e.state.email});case"profile":return o.a.createElement(B,{user:e.state.user,UID:e.state.uid,setSong:e.handleSetSong,gotoSongDetails:e.gotoSongDetails});case"songdetails":return o.a.createElement(T,{song:e.state.viewSong});default:return o.a.createElement(w,{setSong:e.handleSetSong,gotoProfile:e.gotoProfile,gotoSongDetails:e.gotoSongDetails})}else switch(e.state.mainContent){case"signup":return o.a.createElement(S,{gotoSignIn:e.setMainContent});default:return o.a.createElement("div",null)}}())))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,a){e.exports=a.p+"static/media/TESTprofile-image.ab8d4060.png"},32:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/corner-logo-blinq.c9ee6b5e.png"},61:function(e,t,a){e.exports=a(120)},66:function(e,t,a){},8:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.a75d0872.chunk.js.map